apiVersion: v1
kind: ConfigMap
metadata:
  name: rrs-static-mon
  namespace: rack-resiliency
  labels:
    app.kubernetes.io/managed-by: Helm
    type: rr-services 
data:
  log_dir: "/var/log/rr"
  unit_of_time: "seconds" 
  k8s_pre_monitoring_delay: "40"
  k8s_monitoring_polling_interval: "60"
  k8s_monitoring_total_time: "600"
  ceph_pre_monitoring_delay: "40"
  ceph_monitoring_polling_interval: "60"
  ceph_monitoring_total_time: "600"
  default_message_level: "debug"
  last_updated_timestamp: ""
  critical-service-config.json: |-
    {
      "critical-services": {
        "coredns": {
          "namespace": "kube-system",
          "type": "Deployment"
        },
        "sealed-secrets": {
          "namespace": "kube-system",
          "type": "Deployment"
        },
        "cray-ceph-csi-cephfs-provisioner": {
          "namespace": "ceph-cephfs",
          "type": "Deployment"
        },
        "cray-ceph-csi-rbd-provisioner": {
          "namespace": "ceph-rbd",
          "type": "Deployment"
        },
        "cray-activemq-artemis-operator-controller-manager": {
          "namespace": "dvs",
          "type": "Deployment"
        },
        "cray-dvs-mqtt-ss": {
          "namespace": "dvs",
          "type": "StatefulSet"
        },
        "cray-hmnfd-bitnami-etcd": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-hmnfd": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-hbtd": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-hbtd-bitnami-etcd": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "hpe-slingshot-jackaloped": {
          "namespace": "services",
          "type": "Deployment"
        },
        "hpe-slingshot-ogopogod": {
          "namespace": "services",
          "type": "Deployment"
        },
        "slingshot-fabric-manager": {
          "namespace": "services",
          "type": "Deployment"
        },
        "hpe-slingshot-vnid": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-console-node": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-console-data-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-dns-powerdns": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-powerdns-manager": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-dns-powerdns-manager": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-dhcp-kea": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-dhcp-kea-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-sls": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-sls-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-keycloak": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "keycloak-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "slurm-operator": {
          "namespace": "slurm-operator",
          "type": "Deployment"
        },
        "slurmctld": {
          "namespace": "user",
          "type": "Deployment"
        },
        "slurmctld-backup": {
          "namespace": "user",
          "type": "Deployment"
        },
        "slurmdbd": {
          "namespace": "user",
          "type": "Deployment"
        },
        "slurmdbd-backup": {
          "namespace": "user",
          "type": "Deployment"
        },
        "slurmdb-haproxy": {
          "namespace": "user",
          "type": "StatefulSet"
        },
        "slurmdb-pxc": {
          "namespace": "user",
          "type": "StatefulSet"
        },
        "pbs": {
          "namespace": "user",
          "type": "Deployment"
        },
        "pbs-comm": {
          "namespace": "user",
          "type": "Deployment"
        },
        "cray-spire-postgres": {
          "namespace": "spire",
          "type": "StatefulSet"
        },
        "spire-postgres": {
          "namespace": "spire",
          "type": "StatefulSet"
        },
        "cray-spire-server": {
          "namespace": "spire",
          "type": "StatefulSet"
        },
        "spire-server": {
          "namespace": "spire",
          "type": "StatefulSet"
        },
        "cilium-operator": {
          "namespace": "kube-system",
          "type": "Deployment"
        },
        "cray-smd": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-smd-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-bss": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-bss-bitnami-etcd": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-tftp": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-ipxe-aarch64": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-ipxe-x86-64": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-vault-configurer": {
          "namespace": "vault",
          "type": "Deployment"
        },
        "cray-vault-operator": {
          "namespace": "vault",
          "type": "Deployment"
        },
        "cray-vault": {
          "namespace": "vault",
          "type": "StatefulSet"
        },
        "cray-sts": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cfs-ara": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cfs-hwsync-agent": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cfs-trust": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-cfs-api": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-cfs-api-db": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-cfs-batcher": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-cfs-operator": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-bos": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-bos-db": {
          "namespace": "services",
          "type": "Deployment"
        },
        "nexus": {
          "namespace": "nexus",
          "type": "Deployment"
        },
        "kyverno-admission-controller": {
          "namespace": "kyverno",
          "type": "Deployment"
        },
        "kyverno-background-controller": {
          "namespace": "kyverno",
          "type": "Deployment"
        },
        "kyverno-cleanup-controller": {
          "namespace": "kyverno",
          "type": "Deployment"
        },
        "kyverno-reports-controller": {
          "namespace": "kyverno",
          "type": "Deployment"
        },
        "cray-certmanager-cert-manager": {
          "namespace": "cert-manager",
          "type": "Deployment"
        },
        "cray-certmanager-cert-manager-cainjector": {
          "namespace": "cert-manager",
          "type": "Deployment"
        },
        "cray-certmanager-cert-manager-webhook": {
          "namespace": "cert-manager",
          "type": "Deployment"
        },
        "istio-operator": {
          "namespace": "istio-operator",
          "type": "Deployment"
        },
        "istio-ingressgateway": {
          "namespace": "istio-system",
          "type": "Deployment"
        },
        "istio-ingressgateway-customer-admin": {
          "namespace": "istio-system",
          "type": "Deployment"
        },
        "istio-ingressgateway-customer-user": {
          "namespace": "istio-system",
          "type": "Deployment"
        },
        "istio-ingressgateway-hmn": {
          "namespace": "istio-system",
          "type": "Deployment"
        },
        "istiod": {
          "namespace": "istio-system",
          "type": "Deployment"
        },
        "kiali": {
          "namespace": "istio-system",
          "type": "Deployment"
        },
        "gitea-vcs": {
          "namespace": "services",
          "type": "Deployment"
        },
        "gitea-vcs-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-bss": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-bss-bitnami-etcd": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-sls": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-sls-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-power-control": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-power-control-bitnami-etcd": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-capmc": {
          "namespace": "services",
          "type": "Deployment"
        },
        "cray-tftp": {
          "namespace": "services",
          "type": "Deployment"
        },
        "gitea-vcs": {
          "namespace": "services",
          "type": "Deployment"
        },
        "gitea-vcs-postgres": {
          "namespace": "services",
          "type": "StatefulSet"
        },
        "cray-k8s-encryption": {
          "namespace": "kube-system",
          "type": "DaemonSet"
        },
        "kube-multus-ds": {
          "namespace": "kube-system",
          "type": "DaemonSet"
        },
        "kube-proxy": {
          "namespace": "kube-system",
          "type": "DaemonSet"
        },
        "weave-net": {
          "namespace": "kube-system",
          "type": "DaemonSet"
        },
        "cray-ceph-csi-cephfs-nodeplugin": {
          "namespace": "ceph-cephfs",
          "type": "DaemonSet"
        },
        "cray-ceph-csi-rbd-nodeplugin": {
          "namespace": "ceph-rbd",
          "type": "DaemonSet"
        },
        "cray-spire-agent": {
          "namespace": "spire",
          "type": "DaemonSet"
        },
        "spire-agent": {
          "namespace": "spire",
          "type": "DaemonSet"
        },
        "cilium": {
          "namespace": "kube-system",
          "type": "DaemonSet"
        },
        "cilium-envoy": {
          "namespace": "kube-system",
          "type": "DaemonSet"
        },
        "cray-opa-ingressgateway": {
          "namespace": "opa",
          "type": "DaemonSet"
        },
        "cray-opa-ingressgateway-customer-admin": {
          "namespace": "opa",
          "type": "DaemonSet"
        },
        "cray-opa-ingressgateway-customer-user": {
          "namespace": "opa",
          "type": "DaemonSet"
        },
        "cray-opa-ingressgateway-hmn": {
          "namespace": "opa",
          "type": "DaemonSet"
        },
        "cray-tftp-modprobe": {
          "namespace": "services",
          "type": "DaemonSet"
        },
        "kube-apiserver": {
          "namespace": "kube-system",
          "type": "static pod"
        },
        "kube-controller-manager": {
          "namespace": "kube-system",
          "type": "static pod"
        },
        "kube-scheduler": {
          "namespace": "kube-system",
          "type": "static pod"
        }
      }
    }
